<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>M2 THYP </title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    
    <style>
    </style>
<body>
<h2>La liste des étudiants </h2>
<div id='dataStudents'></div>
<h2>La liste des professeurs </h2>
<div id='dataProfs'></div>
<h2>La liste des questions</h2>
<div id='dataQuestions'></div>
<h2>La liste des réponses </h2>
<div id='dataResponses'></div>
</body>

<script>

let urlDataStudents="http://localhost/omeka-s/api/items?item_set_id=26";
let urlDataProfs="http://localhost/omeka-s/api/item_sets/27";
let urlDataQuestions="http://localhost/omeka-s/api/item_sets/28";
let urlDataResponses="http://localhost/omeka-s/api/item_sets/29";

d3.json(urlDataStudents).then(function(data) {
  d3.select('#dataStudents').selectAll('div').data(data).enter().append('div')
      .html(d=>{ 
        let v=d["foaf:family_name"][0]["@value"]+" "+d["foaf:firstName"][0]["@value"]
        return v;

      })
      .on("click",function(d){
        showStudent(d);
      });
      
});

d3.json(urlDataProfs).then(function(data) {
  d3.select('#dataProfs').selectAll('div').data(data).enter().append('div')
      .html(d=>d["dcterms:description"][0]["@value"]);
});

d3.json(urlDataQuestions).then(function(data) {
  d3.select('#dataQuestions').selectAll('div').data(data).enter().append('div')
      .html(d=>d["dcterms:description"][0]["@value"]);
});

d3.json(urlDataResponses).then(function(data) {
  d3.select('#dataResponses').selectAll('div').data(data).enter().append('div')
      .html(d=>d["dcterms:description"][0]["@value"]);
});
function showStudent(d){
  console.log(d);
}
</script>
</html>
